{% extends 'base.html' %}
{% load static %}
{% block title %}Maltrato{% endblock title %}
{% block fullcard %}
{% block head %}
<script src="{% static 'js/jquery.js' %}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.13.3/js/standalone/selectize.min.js"
    integrity="sha512-pF+DNRwavWMukUv/LyzDyDMn8U2uvqYQdJN0Zvilr6DDo/56xPDZdDoyPDYZRSL4aOKO/FGKXTpzDyQJ8je8Qw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.13.3/css/selectize.bootstrap4.min.css"
    integrity="sha512-MMojOrCQrqLg4Iarid2YMYyZ7pzjPeXKRvhW9nZqLo6kPBBTuvNET9DBVWptAo/Q20Fy11EIHM5ig4WlIrJfQw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

{% endblock head %}
<div class="card">
    <div class="card-header">
        <div class="row d-flex">
            <div class="col-sm-6">
                <h1 class="display-6">Crear Caso Maltrato</h1>
            </div>
        </div>
    </div>
</div>
<div class="card">
    <div class="card-body">
        <div class="row">
            <div class="col-sm-12">
                <div class="form-group">
                    <form action="" method="post">
                        {% csrf_token %}
                        <label for="fecha">Fecha del Suceso</label>
                        {{form.fecha_creacion}}

                        <label for="fecha">Tipo de Maltrato</label>
                        {{form.tipo_maltrato}}

                        <div class="relacion-funcionario-alumno">
                            <label for="funcionario">Funcionario Agresor</label>
                            {{form.funcionario_agresor}}

                            <label for="victima">Victima</label>
                            {{form.victima}}

                        </div>


                        <label for="victima">Detalle</label>
                        {{form.detalle}}
                        <br>

                        <button type="submit" class="btn btn-success">Crear</button>
                    </form>




                </div>

            </div>
        </div>
        <form action="" method="POST">

            {% csrf_token %}
            <br />
            {{form.as_p}}
            <table>

            </table>
            <button type="submit" class="btn btn-success">Crear</button>
        </form>
    </div>
</div>

<script>
    $(function () {
        $("#id_victima").selectize({
            sortField: 'text',
        });
        $("#id_tipo_maltrato").selectize({
            sortField: 'text',
        });
    });

    $('#id_tipo_maltrato').change(function () {
        console.log("Javascript culiaos");
        console.log(this.value)

        let seleccion = this.value;

        
        switch (seleccion) {
            case 'adulto':
                console.log("Adulto Agrede a Estudiante");
                break;
            case 'estudiante':
                console.log("Estudiante Agrede a Estudiante");
                break;
            case 'alumno_docente':
                console.log("Alumno  Agrede a Docente o  Funcionario");
                $('#id_victima')
                break;
        }

    })
</script>

{% endblock fullcard %}